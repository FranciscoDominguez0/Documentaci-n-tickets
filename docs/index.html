<!doctype html>
<!--
  Plantilla de documentación estilo "Doc Site" en tema oscuro.
  Instrucciones de imágenes: coloca tus imágenes en `docs/assets/` con los nombres listados en `assets/README_images.md`.
  Nombres recomendados (ejemplos):
    - dashboard.png         -> se muestra en la sección Introducción
    - ticket-list.png       -> lista de tickets
    - ticket-detail.png     -> detalle de ticket
    - db-schema.png         -> diagrama ER / esquema
    - api-example-req.png   -> ejemplo de request
    - api-example-resp.png  -> ejemplo de response
-->
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Documentación — Sistema Tickets</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="doc-layout">
    <aside class="sidebar">
      <div class="brand">
        <img src="assets/logo-placeholder.png" alt="Logo" />
        <h3>Sistema Tickets</h3>
      </div>
      <input class="search" placeholder="Buscar..." aria-label="Buscar documentación" />
      <nav class="nav">
        <a href="#intro" class="active">Introducción</a>
        <a href="#instalacion">Instalación</a>
        <a href="#guia">Guía rápida</a>
        <a href="#autenticacion">Autenticación</a>
        <a href="#registro">Registro</a>
        <a href="#panel-usuario">Panel Usuario</a>
        <a href="#recuperar-pwd">Recuperar Contraseña</a>
        <a href="#tareas-tickets">Tareas / Tickets</a>
        <a href="#api">API / Endpoints</a>
        <a href="#db">Base de datos</a>
        <a href="#capturas">Capturas</a>
        <a href="#contribuir">Contribuir</a>
      </nav>
      <div class="version">v1.0 • 2026</div>
    </aside>

    <main class="content">
      <article class="page">
        <header class="page-header">
          <h1 id="intro">Introducción</h1>
          <p class="muted">Breve descripción del propósito del sistema y flujo principal.</p>
        </header>

        <section class="panel">
          <h2>Visión general</h2>
          <p>Este sistema gestiona la creación, seguimiento y resolución de tickets de soporte interno.</p>
          <div class="hero-preview">
            <img src="assets/Dashboard.png" alt="Dashboard" />
          </div>
        </section>

        <section id="instalacion" class="panel">
          <h2>Instalación</h2>
          <p>Copiar la carpeta `docs` dentro del proyecto en XAMPP o servir la carpeta directamente.</p>
          <pre><code class="bash">xcopy /E /I "C:\Users\domin\Documenacion-tickets\docs" "C:\xampp81\htdocs\sistema-tickets\docs"
start http://localhost/sistema-tickets/docs/
</code></pre>
          <h3>Requisitos</h3>
          <ul>
            <li>PHP 8.1+</li>
            <li>MySQL / MariaDB</li>
            <li>Composer (opcional)</li>
          </ul>
        </section>

        <section id="guia" class="panel">
          <h2>Guía rápida / Uso</h2>
          <ol>
            <li>Configura conexión a la base de datos en <code>config.php</code> o <code>.env</code>.</li>
            <li>Importa <code>db/schema.sql</code> o ejecuta migraciones.</li>
            <li>Visita la URL principal, crea un ticket y revisa su historial.</li>
          </ol>
          <div class="split">
            <div>
              <h4>Rutas importantes</h4>
              <ul>
                <li><code>/tickets</code> — Lista</li>
                <li><code>/tickets/create</code> — Crear</li>
                <li><code>/tickets/{id}</code> — Detalle</li>
                <li><code>/api/tickets</code> — API REST</li>
              </ul>
            </div>
            <div>
              <h4>Atajos</h4>
              <p>Puedes acceder al panel de administración en <code>/admin</code> (si aplica).</p>
            </div>
          </div>
        </section>

        <section id="modules" class="panel">
          <h2>Módulos y Roles</h2>
          <p>Descripción completa de los módulos principales del sistema: <strong>Usuario</strong>, <strong>Agente</strong> y <strong>Administrador</strong>. Cada subsección indica funciones, creación, asignación, permisos, endpoints y esquema de base de datos mínimo.</p>

          <article class="module">
            <h3>Módulo: Usuario</h3>
            <p><strong>Propósito:</strong> Clientes o usuarios finales que reportan incidencias o solicitudes.</p>
            <h4>Funciones principales</h4>
            <ul>
              <li>Registro / autenticación (registro por email o invitación).</li>
              <li>Crear ticket: título, descripción, prioridad, adjuntos.</li>
              <li>Ver y filtrar sus tickets (estado, prioridad, fecha).</li>
              <li>Comentar en tickets y adjuntar archivos.</li>
              <li>Cerrar/confirmar resolución (si está permitido).</li>
            </ul>
            <h4>Cómo se crea</h4>
            <p>Un `Usuario` se crea vía:</p>
            <ul>
              <li>Formulario de registro público (self-service).</li>
              <li>Creación por un `Administrador` desde el panel de usuarios.</li>
            </ul>
            <h4>Asignación / flujo</h4>
            <p>Cuando un usuario crea un ticket, el ticket:</p>
            <ol>
              <li>Se registra en estado <em>nuevo</em> o <em>abierto</em>.</li>
              <li>Puede ser encolado automáticamente según categoría/servicio.</li>
              <li>Queda <strong>sin asignar</strong> hasta que un agente lo reclame o un administrador lo asigne.</li>
            </ol>
            <h4>Permisos</h4>
            <ul>
              <li>Ver/editar solo sus propios tickets.</li>
              <li>No puede reasignar ni cambiar roles.</li>
            </ul>
            <h4>Endpoints (ejemplos)</h4>
            <pre><code>POST /api/users         # registrar
POST /api/tickets       # crear ticket (user_id)
GET  /api/tickets?user=1  # listar tickets de usuario
POST /api/tickets/{id}/comments  # añadir comentario
</code></pre>
            <h4>Esquema mínimo (ejemplos)</h4>
            <pre><code class="sql">CREATE TABLE users (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(100), email VARCHAR(150) UNIQUE, password VARCHAR(255), role VARCHAR(20), created_at DATETIME);
CREATE TABLE tickets (id INT AUTO_INCREMENT PRIMARY KEY, user_id INT, title VARCHAR(200), description TEXT, status VARCHAR(30), priority VARCHAR(20), assigned_to INT NULL, created_at DATETIME);
</code></pre>
          </article>

          <article class="module module-with-image">
            <div class="module-header">
              <div>
                <h3>Módulo: Agente</h3>
                <p><strong>Propósito:</strong> Personal de soporte que gestiona y resuelve tickets.</p>
              </div>
              <img src="assets/Agentes.png" alt="Módulo Agentes" class="module-image" />
            </div>
            <h4>Funciones principales</h4>
            <ul>
              <li>Ver lista de tickets asignados y pendientes (cola).</li>
              <li>Reclamar (claim) tickets sin asignar.</li>
              <li>Responder al usuario, agregar notas internas y cambiar estado.</li>
              <li>Reasignar tickets a otros agentes o escalar a administrador.</li>
              <li>Marcar prioridades y adjuntar evidencias.</li>
            </ul>
            <h4>Cómo se crea</h4>
            <p>Un `Agente` normalmente es creado por un `Administrador` o provisionado mediante sincronización con un directorio corporativo.</p>
            <h4>Asignación / flujo</h4>
            <ol>
              <li>El administrador puede asignar tickets directamente a un agente.</li>
              <li>Los agentes pueden ver una cola de tickets no asignados y reclamar los que atienden.</li>
              <li>Al reclamar, el campo <code>assigned_to</code> se actualiza con el id del agente.</li>
            </ol>
            <h4>Permisos</h4>
            <ul>
              <li>Ver tickets asignados y tickets públicos de la cola.</li>
              <li>Modificar estado, agregar comentarios, reasignar.</li>
              <li>Acceso limitado a paneles administrativos (según rol).</li>
            </ul>
            <h4>Endpoints (ejemplos)</h4>
            <pre><code>GET  /api/tickets?assigned_to={agent_id}
POST /api/tickets/{id}/claim    # reclamar ticket
POST /api/tickets/{id}/reply    # respuesta / nota pública
POST /api/tickets/{id}/internal # nota interna
POST /api/tickets/{id}/assign   # reasignar (admin/agent con permiso)
</code></pre>
          </article>

          <article class="module module-with-image">
            <div class="module-header">
              <div>
                <h3>Módulo: Administrador</h3>
                <p><strong>Propósito:</strong> Gestión completa del sistema: usuarios, agentes, configuraciones, reportes y asignaciones.</p>
              </div>
              <img src="assets/Administrador.png" alt="Módulo Administrador" class="module-image" />
            </div>
            <h4>Funciones principales</h4>
            <ul>
              <li>Crear/editar/eliminar usuarios y agentes.</li>
              <li>Asignar tickets a agentes o equipos.</li>
              <li>Gestionar categorías, prioridades y SLA.</li>
              <li>Ver reportes, métricas y exportar datos.</li>
              <li>Configurar integraciones (correo, webhooks, APIs).</li>
            </ul>
            <h4>Cómo se crea</h4>
            <p>El primer `Administrador` suele crearse durante la instalación o mediante una seed; posteriores administradores pueden ser añadidos por usuarios con privilegios.</p>
            <h4>Asignación / flujo</h4>
            <p>Los administradores pueden asignar tickets manualmente o configurar reglas automáticas (por categoría, prioridad, horario).</p>
            <h4>Permisos</h4>
            <ul>
              <li>Acceso completo a todos los datos y configuraciones.</li>
              <li>Puede delegar permisos mediante roles y grupos.</li>
            </ul>
            <h4>Endpoints (ejemplos)</h4>
            <pre><code>GET  /api/admin/users
POST /api/admin/users      # crear usuario/agent
PUT  /api/admin/users/{id} # actualizar
POST /api/admin/tickets/{id}/assign # asignar a agente
</code></pre>
            <h4>Tablas y migraciones recomendadas</h4>
            <pre><code class="sql">CREATE TABLE roles (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(50));
CREATE TABLE user_roles (user_id INT, role_id INT);
-- permisos más finos pueden almacenarse en una tabla permissions
</code></pre>
          </article>

          <h4>Matriz de permisos (resumen)</h4>
          <table>
            <thead><tr><th>Acción</th><th>Usuario</th><th>Agente</th><th>Administrador</th></tr></thead>
            <tbody>
              <tr><td>Crear ticket</td><td>Sí</td><td>Sí</td><td>Sí</td></tr>
              <tr><td>Ver tickets (todos)</td><td>No</td><td>Solo asignados/cola</td><td>Sí</td></tr>
              <tr><td>Asignar ticket</td><td>No</td><td>Sí (según permiso)</td><td>Sí</td></tr>
              <tr><td>Gestionar usuarios</td><td>No</td><td>No</td><td>Sí</td></tr>
            </tbody>
          </table>

          <p>Adapta los endpoints y permisos a tu implementación concreta. Puedo generar migraciones SQL completas y ejemplos de requests/responses si quieres.</p>
        </section>

        <section id="autenticacion" class="panel with-image">
          <div class="panel-header">
            <div class="panel-content">
              <h2>Autenticación / Login</h2>
              <p>Proceso para que usuarios y agentes accedan al sistema con sus credenciales.</p>
            </div>
            <img src="assets/Login.png" alt="Pantalla Login" class="side-image" />
          </div>
          <h4>Flujo de Login</h4>
          <ol>
            <li>Usuario ingresa <code>email</code> y <code>contraseña</code> en la pantalla de login.</li>
            <li>El sistema verifica las credenciales contra la tabla <code>users</code>.</li>
            <li>Si es válido, se genera un token de sesión (JWT o sesión PHP).</li>
            <li>Se redirige hacia el panel según el rol: usuario → <code>/dashboard</code>, agente → <code>/agent/tickets</code>, admin → <code>/admin</code>.</li>
          </ol>
          <h4>Vista/Pantalla de Login</h4>
          <ul>
            <li>Formulario con campos: email, contraseña.</li>
            <li>Botón "Iniciar sesión".</li>
            <li>Enlace "Olvidé mi contraseña" → va a <code>#recuperar-pwd</code>.</li>
            <li>Enlace "Crear cuenta" → va a <code>#registro</code>.</li>
          </ul>
          <h4>Endpoint</h4>
          <pre><code>POST /api/auth/login
+Content-Type: application/json
+
+{
+  "email": "usuario@example.com",
+  "password": "contraseña123"
+}
+
+Response (200 OK):
+{
+  "success": true,
+  "user": {
+    "id": 1,
+    "name": "Juan Pérez",
+    "email": "usuario@example.com",
+    "role": "user"
+  },
+  "token": "eyJ0eXAiOiJKV1QiLCJhbGc..."
+}
+</code></pre>
+          <h4>Validaciones</h4>
+          <ul>
+            <li>Email vacío o formato inválido → error 400.</li>
+            <li>Contraseña incorrecta → error 401.</li>
+            <li>Usuario no existe → error 404 (o 401 por seguridad).</li>
+            <li>Usuario desactivado → error 403.</li>
+          </ul>
+        </section>
+
+        <section id="registro" class="panel">
+          <h2>Registro / Sign Up</h2>
+          <p>Permite que nuevos usuarios se registren en el sistema (si está habilitado públicamente).</p>
+          <h4>Flujo de Registro</h4>
+          <ol>
+            <li>Usuario hace clic en "Crear cuenta" desde la pantalla de login.</li>
+            <li>Completa formulario: nombre, email, contraseña, confirmación contraseña.</li>
+            <li>Opcionalmente, puede ingresar empresa/departamento (según la configuración).</li>
+            <li>Se envía un email de confirmación con un enlace de verificación.</li>
+            <li>Usuario confirma email y accede al sistema (con rol <code>user</code> por defecto).</li>
+          </ol>
+          <h4>Vista/Pantalla de Registro</h4>
+          <ul>
+            <li>Campos: nombre, email, contraseña, confirmar contraseña.</li>
+            <li>Checkbox: aceptar términos y condiciones.</li>
+            <li>Botón "Registrarse".</li>
+            <li>Enlace "Ya tengo cuenta" → vuelve a login.</li>
+          </ul>
+          <h4>Endpoint</h4>
+          <pre><code>POST /api/auth/register
+Content-Type: application/json
+
+{
+  "name": "Juan Pérez",
+  "email": "usuario@example.com",
+  "password": "contraseña123",
+  "password_confirm": "contraseña123"
+}
+
+Response (201 Created):
+{
+  "success": true,
+  "message": "Usuario registrado. Por favor confirma tu email.",
+  "user_id": 2
+}
+</code></pre>
+          <h4>Validaciones</h4>
+          <ul>
+            <li>Email ya existe → error 409 (conflict).</li>
+            <li>Contraseña débil (&lt;8 caracteres, sin números) → error 400.</li>
+            <li>Contraseñas no coinciden → error 400.</li>
+          </ul>
+        </section>
+
+        <section id="panel-usuario" class="panel">
+          <h2>Panel de Usuario</h2>
+          <p>Interfaz principal para usuarios después de iniciar sesión. Accesible en <code>/dashboard</code> o <code>/user/home</code>.</p>
+          <h4>Componentes / Vistas</h4>
+          <ul>
+            <li><strong>Resumen (Overview):</strong> contador de tickets abiertos, en progreso, cerrados; próximas vencidas.</li>
+            <li><strong>Lista de mis tickets:</strong> tabla con columnas: ID, Título, Estado, Prioridad, Fecha, Última actualización.</li>
+            <li><strong>Filtros:</strong> por estado (abierto, en progreso, cerrado), prioridad, fecha.</li>
+            <li><strong>Botón "Crear ticket":</strong> abre formulario para crear un nuevo ticket.</li>
+            <li><strong>Perfil / Configuración:</strong> editar nombre, email, cambiar contraseña, preferencias.</li>
+          </ul>
+          <h4>Acciones disponibles</h4>
+          <ol>
+            <li>Ver detalle de un ticket (descripción, comentarios, historial).</li>
+            <li>Agregar comentario a un ticket abierto.</li>
+            <li>Cerrar un ticket (si el estado lo permite).</li>
+            <li>Descargar adjuntos del ticket.</li>
+          </ol>
+          <h4>Endpoints</h4>
+          <pre><code>GET  /api/user/dashboard
+GET  /api/user/tickets
+GET  /api/user/tickets/{id}
+POST /api/user/tickets
+</code></pre>
          <div class="gallery-grid">
            <figure class="gallery-item">
              <img src="assets/User.png" alt="Vista Panel Usuario" />
              <figcaption>Panel de Usuario</figcaption>
            </figure>
            <figure class="gallery-item">
              <img src="assets/Ticket_list.png" alt="Lista de Tickets" />
              <figcaption>Lista de Tickets</figcaption>
            </figure>
          </div>
+        </section>
+
+        <section id="recuperar-pwd" class="panel">
+          <h2>Recuperar Contraseña</h2>
+          <p>Flujo para que usuarios que olvidaron su contraseña la restablezcan.</p>
+          <h4>Flujo paso a paso</h4>
+          <ol>
+            <li><strong>Paso 1 (Solicitud):</strong> Usuario ingresa email en la página "Olvidé mi contraseña".</li>
+            <li><strong>Paso 2 (Email):</strong> Se envía email con enlace temporal que incluye token válido por 24h (ej: <code>/reset-password?token=abc123xyz</code>).</li>
+            <li><strong>Paso 3 (Entrada):</strong> Usuario hace clic en el enlace, accede a página con campos: nueva contraseña, confirmar contraseña.</li>
+            <li><strong>Paso 4 (Confirmación):</strong> Se valida el token y se actualiza la contraseña. Mensaje de éxito y redirección a login.</li>
+          </ol>
+          <h4>Endpoints</h4>
+          <pre><code>POST /api/auth/forgot-password
+{
+  "email": "usuario@example.com"
+}
+Response: { "message": "Email enviado con instrucciones" }
+
+POST /api/auth/reset-password
+{
+  "token": "abc123xyz...",
+  "password": "nueva_contraseña",
+  "password_confirm": "nueva_contraseña"
+}
+Response: { "success": true, "message": "Contraseña actualizada" }
+</code></pre>
+          <h4>Validaciones de seguridad</h4>
+          <ul>
+            <li>Token expirado → error 410 (gone).</li>
+            <li>Token inválido → error 401.</li>
+            <li>Email no existe → no revelar (respuesta genérica: "Si el email existe, enviaremos instrucciones").</li>
+            <li>Contraseña débil → error 400.</li>
+          </ul>
+        </section>
+
+        <section id="tareas-tickets" class="panel">
+          <h2>Tareas / Crear y Gestionar Tickets</h2>
+          <p>Explicación completa de cómo usuarios crean tickets y los gestionan durante su ciclo de vida.</p>
+          <h4>Crear un Ticket</h4>
+          <h5>Formulario</h5>
+          <ul>
+            <li><strong>Título:</strong> asunto principal (requerido, 10-200 caracteres).</li>
+            <li><strong>Descripción:</strong> detalles del problema o solicitud (requerido, mínimo 20 caracteres).</li>
+            <li><strong>Categoría:</strong> dropdown para seleccionar (soporte, facturación, técnico, otro).</li>
+            <li><strong>Prioridad:</strong> baja, media, alta, urgente (por defecto: media).</li>
+            <li><strong>Adjuntos:</strong> opcionalmente cargar archivos (máx 5 archivos, 10 MB c/u).</li>
+          </ul>
+          <h5>Endpoint</h5>
+          <pre><code>POST /api/tickets
+Content-Type: multipart/form-data
+
+{
+  "title": "No puedo acceder a mi cuenta",
+  "description": "Olvidé mi contraseña y no recibí el email de recuperación...",
+  "category": "soporte",
+  "priority": "high",
+  "attachments": [archivo1.pdf, archivo2.jpg]
+}
+
+Response (201):
+{
+  "success": true,
+  "ticket": {
+    "id": 42,
+    "user_id": 1,
+    "title": "No puedo acceder a mi cuenta",
+    "status": "new",
+    "created_at": "2026-02-08T10:30:00Z"
+  }
+}
+</code></pre>
+          <h4>Estados del Ticket</h4>
+          <table>
+            <thead><tr><th>Estado</th><th>Descripción</th><th>Usuario puede cerrar</th></tr></thead>
+            <tbody>
+              <tr><td>Nuevo</td><td>Acaba de ser creado, en espera de asignación.</td><td>Sí</td></tr>
+              <tr><td>Asignado</td><td>Un agente lo ha reclamado.</td><td>No</td></tr>
+              <tr><td>En progreso</td><td>Se está trabajando en la solución.</td><td>No</td></tr>
+              <tr><td>En espera</td><td>Requiere información adicional del usuario.</td><td>No</td></tr>
+              <tr><td>Resuelto</td><td>Se proporcionó una solución.</td><td>Sí (confirmar cierre)</td></tr>
+              <tr><td>Cerrado</td><td>Ticket cerrado, no se pueden agregar más respuestas.</td><td>-</td></tr>
+            </tbody>
+          </table>
+          <h4>Ciclo de vida del Ticket</h4>
+          <ol>
+            <li><strong>Creación:</strong> usuario → estado "Nuevo", sin asignar.</li>
+            <li><strong>Asignación:</strong> admin/agente reclama → estado "Asignado", campo <code>assigned_to</code> se completa.</li>
+            <li><strong>Respuestas:</strong> agente responde y cambia a "En progreso".</li>
+            <li><strong>Espera:</strong> si necesita info del usuario, estado "En espera".</li>
+            <li><strong>Resolución:</strong> agente marca como "Resuelto".</li>
+            <li><strong>Cierre:</strong> usuario confirma o agente cierra automáticamente después de X días.</li>
+          </ol>
+          <h4>Interacción Usuario-Agente</h4>
+          <ul>
+            <li>El usuario ve comentarios públicos (respuestas del agente).</li>
+            <li>El usuario puede responder a cada comentario del agente.</li>
+            <li>Las notas internas (solo agentes) no son visibles para el usuario.</li>
+            <li>Cuando el agente responde, se envía notificación por email al usuario.</li>
+          </ul>
+          <h4>Endpoints adicionales</h4>
+          <pre><code>GET  /api/tickets/{id}
+POST /api/tickets/{id}/comments
+PUT  /api/tickets/{id}/status
+</code></pre>
+        </section>

        <section id="api" class="panel">
          <h2>API / Endpoints</h2>
          <p>Ejemplos de uso con JSON.</p>
          <h4>Obtener tickets</h4>
          <pre><code class="http">GET /api/tickets
Accept: application/json
</code></pre>
          <h4>Crear ticket (ejemplo)</h4>
          <pre><code class="http">POST /api/tickets
Content-Type: application/json

{
  "title": "Problema de ejemplo",
  "description": "Descripción del problema",
  "user_id": 1
}
</code></pre>
          <p>Incluye las imágenes de ejemplo de request/response en <code>docs/assets/</code> si lo deseas.</p>
        </section>

        <section id="db" class="panel">
          <h2>Base de datos / Migraciones</h2>
          <p>Esquema resumido y diagrama:</p>
          <div class="db-figure">
            <img src="assets/db-schema.png" alt="Esquema BD" />
          </div>
          <pre><code class="sql">-- ejemplo mínimo
CREATE TABLE users (id INT PRIMARY KEY AUTO_INCREMENT, name VARCHAR(100), email VARCHAR(150));
CREATE TABLE tickets (id INT PRIMARY KEY AUTO_INCREMENT, user_id INT, title VARCHAR(200), description TEXT, status VARCHAR(30), created_at DATETIME);
</code></pre>
        </section>

        <section id="capturas" class="panel">
          <h2>Capturas de pantalla</h2>
          <p>Coloca las imágenes en <code>docs/assets/</code>. Nombres recomendados:</p>
          <ul>
            <li><code>dashboard.png</code> — vista principal</li>
            <li><code>ticket-list.png</code> — lista de tickets</li>
            <li><code>ticket-detail.png</code> — detalle</li>
          </ul>
          <div class="gallery-grid">
            <figure class="gallery-item">
              <img src="assets/Ticket_list.png" alt="Lista tickets" />
              <figcaption>Listado de Tickets</figcaption>
            </figure>
            <figure class="gallery-item">
              <img src="assets/Ticket_detail.png" alt="Detalle ticket" />
              <figcaption>Detalle de Ticket</figcaption>
            </figure>
          </div>
        </section>

        <section id="contribuir" class="panel">
          <h2>Contribuir / Contacto</h2>
          <p>Pasos rápidos para contribuir al proyecto:</p>
          <ol>
            <li>Crear fork y branch.</li>
            <li>Agregar tests o evidencias visuales.</li>
            <li>Enviar Pull Request describiendo cambios.</li>
          </ol>
        </section>

        <footer class="page-footer">
          <small>Documentación generada — modifica los textos e imágenes según convenga.</small>
        </footer>
      </article>
    </main>

    <aside class="rightcol">
      <div class="toc">
        <h4>En esta página</h4>
        <ul>
          <li><a href="#intro">Introducción</a></li>
          <li><a href="#instalacion">Instalación</a></li>
          <li><a href="#guia">Guía rápida</a></li>
          <li><a href="#autenticacion">Autenticación</a></li>
          <li><a href="#registro">Registro</a></li>
          <li><a href="#panel-usuario">Panel Usuario</a></li>
          <li><a href="#recuperar-pwd">Recuperar Contraseña</a></li>
          <li><a href="#tareas-tickets">Tareas / Tickets</a></li>
          <li><a href="#api">API</a></li>
          <li><a href="#db">Base de datos</a></li>
          <li><a href="#capturas">Capturas</a></li>
        </ul>
      </div>
    </aside>
  </div>

  <script>
    // Smooth scroll and active link handling
    document.querySelectorAll('.nav a, .toc a').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        const target = document.querySelector(a.getAttribute('href'));
        if(target) target.scrollIntoView({behavior:'smooth'});
      });
    });
  </script>
</body>
</html>
